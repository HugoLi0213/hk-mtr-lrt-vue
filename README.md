# HKMTRVUE - MTR & LRT Schedule & Real-time Arrivals

**Use Google Maps for navigation â†’ Use HKMTRVUE for train schedules & real-time arrivals â†’ Complete your Hong Kong journey!**

ğŸš‡ **The Google Maps Companion** - While Google Maps gets you to MTR and LRT stations, HKMTRVUE provides schedules and real-time arrival times in a traditional timetable view design. A specialized frontend web app with official DATA.GOV.HK data updated every 10 seconds - no GPS or location services required.

## ğŸ—ºï¸ How to Use with Google Maps

### **Step 1: Navigate with Google Maps**
- Use Google Maps to find directions to any MTR or Light Rail station
- Get walking/driving routes to station entrances
- See estimated travel time to reach the station

### **Step 2: Check Real-time Arrivals with HKMTRVUE**
- Open HKMTRVUE web app on your phone
- Select your destination station (no GPS location required)
- See live schedules & arrival times in traditional timetable view updated every 10 seconds
- Check which platform and direction to take

### **Step 3: Complete Your Journey**
- Board the train with confidence knowing exact arrival times
- Use Google Maps again for final walking directions from destination station
- Bookmark frequently used stations for faster access



## ğŸŒŸ Why This Combination Works Perfectly for Hong Kong

### **For Daily Commuters**
- **Google Maps Navigation**: Get the fastest route to your nearest MTR/LRT station
- **Real-time Train Data**: Check exact arrival times so you don't rush unnecessarily
- **Platform Information**: Know which platform and direction before you arrive
- **Transfer Planning**: See connections and timing for multi-line journeys

### **For Tourists & Visitors**
- **Familiar Interface**: Use Google Maps (which you already know) for navigation
- **No App Downloads**: HKMTRVUE works in any web browser - frontend web app only
- **No Location Required**: Manual station selection - no GPS or location services needed
- **Traditional Timetable View**: Easy-to-read scheduled timetables and real-time arrival information
- **Complete Journey Planning**: From hotel to attraction using both apps together
- **Language Support**: English and Traditional Chinese in both Google Maps and HKMTRVUE

### **For All Hong Kong Transit Users**
- **Perfect Timing**: Arrive at station just as your train is coming
- **Avoid Crowds**: Choose less crowded trains by seeing multiple arrival times
- **Weather Protection**: Minimize waiting time on outdoor platforms (especially LRT)
- **Data Efficiency**: Only use data when you need real-time information

## ğŸ—ºï¸ Google Maps + HKMTRVUE: The Perfect Transit Solution

### **Why Use Both Apps Together?**

**Google Maps Strengths:**
- ğŸš¶â€â™‚ï¸ Walking/driving directions to stations
- ğŸ—ºï¸ Overview of entire Hong Kong transit network  
- ğŸ“ Station locations and nearby landmarks
- ğŸ¢ Integration with restaurants, hotels, attractions

**HKMTRVUE Strengths:**
- ğŸš‡ Real-time train schedules & arrival times in traditional timetable view (updated every 10 seconds)
- ğŸš‰ Platform and direction information
- â±ï¸ Exact waiting times and train frequencies
- ğŸ“± Lightweight frontend web app - no installation or GPS required

### **Combined Workflow Examples**
### **Combined Workflow Examples**

#### **Tourist Journey: Airport to Tsim Sha Tsui**
```
Step 1: Use Google Maps
ğŸ—ºï¸ Search "Hong Kong Airport to Tsim Sha Tsui"
ğŸš¶â€â™‚ï¸ Follow walking directions to Airport Express platform

Step 2: Use HKMTRVUE  
ğŸš‡ Check Airport Express real-time arrivals
â±ï¸ See next train in 8 minutes, then 18 minutes
ğŸš‰ Confirm Platform 1 for Hong Kong/Kowloon direction

Step 3: During Journey
ğŸ“± Use HKMTRVUE to check Kowloon Station arrival time
ğŸ”„ Plan transfer to Tsuen Wan Line

Step 4: Final Destination
ğŸ—ºï¸ Use Google Maps for walking directions from Tsim Sha Tsui Station to hotel
```

#### **Daily Commute: Sha Tin to Central**
```
Step 1: Check Schedule
ğŸ“± Open HKMTRVUE â†’ Select Sha Tin Station (East Rail Line)
â° Next train: 3 minutes, then 6 minutes, then 9 minutes

Step 2: Navigate to Station  
ğŸ—ºï¸ Google Maps â†’ "Directions to Sha Tin MTR Station"
ğŸš¶â€â™‚ï¸ 5-minute walk â†’ Perfect timing to catch the 6-minute train

Step 3: Monitor Journey
ğŸ“± HKMTRVUE â†’ Check real-time arrival at Admiralty for transfer
ğŸ”„ Transfer to Island Line for Central
```

#### **Light Rail Journey: Tuen Mun to Yuen Long**
```
Step 1: Route Planning
ğŸ—ºï¸ Google Maps â†’ Overview of LRT network and stations
ğŸ“ Find nearest LRT stop to your current location

Step 2: Real-time Information
ğŸ“± HKMTRVUE â†’ Select LRT station (e.g., Tuen Mun Town Centre)  
ğŸšŠ Route 610: 4 minutes | Route 615: 7 minutes | Route 614: 12 minutes
âœ… Choose Route 610 for fastest journey

Step 3: Destination Navigation
ğŸ—ºï¸ Google Maps â†’ Walking directions from Yuen Long LRT station
```

## âœ¨ Key Features

## âœ¨ HKMTRVUE Features

- ğŸš‡ **Real-time MTR & LRT schedules & arrival times** in traditional timetable view for all Hong Kong lines (updated every 10 seconds)
- ğŸ• **Live train schedules** showing next 3-4 arrivals with exact timing
- ğŸš‰ **Platform and direction information** so you know exactly where to go
- ğŸ“± **Mobile-optimized frontend web app** - no installation, GPS, or location services required, works in any browser
- âš¡ **10-second refresh rate** - fastest real-time data in Hong Kong
- ğŸŒ **Bilingual support** (English/Traditional Chinese) for all users
- ğŸ’¾ **Bookmark favorite stations** for quick access to frequently used routes
- ğŸŒ™ **Dark mode support** for comfortable viewing day and night
- ğŸ“³ **Haptic feedback** for enhanced mobile experience
- ğŸ”„ **Auto-refresh technology** with smart caching to save your data

## ğŸš€ Technical Excellence & Hong Kong-Specific Optimizations

### **Data Sources & Reliability**
- **Official Government APIs**: Direct integration with DATA.GOV.HK transport endpoints
- **MTR Corporation Data**: Real-time train schedules from MTR's official systems
- **10-Second Refresh Cycle**: Perfectly tuned for Hong Kong's high-frequency train service
- **Resilient Error Handling**: Exponential backoff and retry mechanisms for Hong Kong's mobile network conditions

### **Hong Kong Transit System Coverage**
#### **MTR Lines Supported:**
- ğŸ”µ **Island Line** (æ¸¯å³¶ç¶«): Chai Wan â†” Kennedy Town
- ğŸ”´ **Tsuen Wan Line** (èƒç£ç¶«): Tsuen Wan â†” Central  
- ğŸŸ¢ **Kwun Tong Line** (è§€å¡˜ç¶«): Tiu Keng Leng â†” Whampoa
- ğŸŸ£ **Tseung Kwan O Line** (å°‡è»æ¾³ç¶«): Po Lam/LOHAS Park â†” North Point
- ğŸŸ¤ **Tuen Ma Line** (å±¯é¦¬ç¶«): Tuen Mun â†” Wu Kai Sha
- ğŸ”µ **East Rail Line** (æ±éµç¶«): Lo Wu/Lok Ma Chau â†” Admiralty
- ğŸŸ¡ **South Island Line** (å—æ¸¯å³¶ç¶«): South Horizons â†” Admiralty
- ğŸŸ¢ **Airport Express** (æ©Ÿå ´å¿«ç¶«): AsiaWorld Expo â†” Hong Kong
- ğŸŸ  **Tung Chung Line** (æ±æ¶Œç¶«): Tung Chung â†” Hong Kong

#### **Light Rail Transit (LRT) Coverage:**
- ğŸ”´ **Complete LRT Network** in Tuen Mun and Yuen Long districts
- **68 LRT Stations** across New Territories West
- **12 LRT Route Numbers** (505, 507, 610, 614, 614P, 615, 615P, 705, 706, 751, 751P, 761P)

### **Integration with Hong Kong's Digital Ecosystem**

#### **Google Maps Connectivity**
```javascript
// Seamless integration flow:
1. ğŸ—ºï¸ Google Maps â†’ Find directions to nearest MTR/LRT stations  
2. ğŸš‡ HKMTRVUE App â†’ Manual station selection (no GPS required) for real-time timetable view
3. â° Traditional Timetable Design â†’ Clear scheduled times and live arrival information
4. ğŸ• Smart Timing â†’ Combine walking time + wait time + travel time
5. ğŸ“± Browser-based â†’ Direct handoff between Google Maps and HKMTRVUE web app
```

#### **Why This Matters for Hong Kong Users**
- **Density-Optimized**: Hong Kong has the world's highest concentration of MTR stations - this app helps navigate the complexity
- **Transfer Intelligence**: Multi-line journeys are common in HK - smart transfer suggestions save time
- **Rush Hour Optimization**: Real-time data crucial during Hong Kong's intense peak hours (7-9 AM, 6-8 PM)
- **Tourist-Friendly**: Essential for visitors navigating Hong Kong's extensive transit network
- **Weather-Aware Planning**: Indoor connections mapped for Hong Kong's rainy season and summer heat

#### **Real-World Use Cases in Hong Kong**

**Scenario 1: Daily Commuter (Sha Tin â†’ Central)**
```
Morning Routine with HKMTRVUE:
1. Check app at home â†’ See East Rail delays/normal service
2. Google Maps integration â†’ Walking route to Sha Tin Station  
3. Real-time platform info â†’ Platform 1 or 2 for southbound trains
4. Transfer optimization â†’ Best route via Admiralty or direct to Central
5. Arrival prediction â†’ Exact ETA at Central for meeting planning
```

**Scenario 2: Tourist Journey (Airport â†’ Tsim Sha Tsui)**
```
Visitor Experience:
1. Land at Hong Kong Airport â†’ Open HKMTRVUE web app (no download needed)
2. Airport Express timing â†’ Real-time departures every 10-15 minutes
3. Kowloon Station arrival â†’ Transfer guidance to Tsuen Wan Line
4. Google Maps handoff â†’ Walking directions in Tsim Sha Tsui
5. Return journey planning â†’ Bookmark favorite stations for later
```

**Scenario 3: Light Rail User (Tuen Mun â†’ Yuen Long)**
```
New Territories Navigation:
1. Complex LRT network â†’ 12 different route numbers, multiple platforms
2. Real-time platform display â†’ Which route arrives first
3. Transfer optimization â†’ Direct route vs. faster connection
4. Google Maps integration â†’ Last-mile connection to final destination
5. Service disruption alerts â†’ Alternative routing during maintenance
```

## ğŸ”„ Technical Architecture & Performance

### **Real-Time Data Pipeline**
```typescript
// Optimized for Hong Kong's mobile network conditions
const CACHE_DURATION = 10000 // 10 seconds - matches MTR frequency
const MAX_RETRIES = 3        // Handles network congestion
const API_ENDPOINTS = {
  MTR: 'https://rt.data.gov.hk/v1/transport/mtr/getSchedule.php',
  LRT: 'https://rt.data.gov.hk/v1/transport/mtr/lrt/getSchedule'
}
```

### **Hong Kong-Specific Optimizations**
- **Network Resilience**: Handles Hong Kong's underground mobile coverage gaps
- **Bilingual Data Processing**: Seamless Chinese/English station name handling  
- **Local Time Accuracy**: Hong Kong timezone (UTC+8) precision for arrival predictions
- **Mobile Data Efficiency**: Minimized API calls for Hong Kong's expensive mobile data plans

## Project Structure

```
src/
â”œâ”€â”€ App.vue                          # Main app component with routing logic
â”œâ”€â”€ main.ts                          # Vue app entry point
â”œâ”€â”€ pages/                           # Page components
â”‚   â”œâ”€â”€ MtrTrain/
â”‚   â”‚   â””â”€â”€ MtrTrain.vue            # Main MTR train page with real-time data
â”‚   â”œâ”€â”€ LightRail/
â”‚   â”‚   â””â”€â”€ LightRail.vue           # Light Rail transit page
â”‚   â”œâ”€â”€ Home/
â”‚   â”‚   â””â”€â”€ Home.vue                # Home page component
â”‚   â””â”€â”€ BusEta/
â”‚       â””â”€â”€ BusEta.vue              # Bus ETA page (placeholder)
â”œâ”€â”€ components/                      # Reusable UI components
â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”œâ”€â”€ PersonalizeDialog.vue   # Settings modal dialog
â”‚   â”‚   â””â”€â”€ OptionsList.vue         # Simplified settings buttons
â”‚   â”œâ”€â”€ icons/                      # SVG icon components
â”‚   â”‚   â”œâ”€â”€ BackspaceIcon.vue
â”‚   â”‚   â”œâ”€â”€ ClearIcon.vue
â”‚   â”‚   â””â”€â”€ CloseIcon.vue
â”‚   â”œâ”€â”€ route-board/                # Route selection components
â”‚   â”‚   â”œâ”€â”€ BoardTabbar.vue         # Tab navigation
â”‚   â”‚   â”œâ”€â”€ RouteInputPad.vue       # Route input interface
â”‚   â”‚   â””â”€â”€ SwipeableRoutesBoard.vue # Swipeable route board
â”‚   â””â”€â”€ route-eta/                  # ETA display components
â”‚       â”œâ”€â”€ RouteHeader.vue         # Route information header
â”‚       â”œâ”€â”€ StopAccordionList.vue   # Expandable stop list
â”‚       â””â”€â”€ TimeTableButton.vue     # Timetable access button
â”œâ”€â”€ composables/                     # Vue 3 composable functions
â”‚   â”œâ”€â”€ useMtrData.ts               # MTR API data fetching logic
â”‚   â”œâ”€â”€ useFavoriteStations.ts      # Bookmark management
â”‚   â”œâ”€â”€ useTheme.ts                 # Dark/light theme handling
â”‚   â””â”€â”€ useNetworkStatus.ts         # Network connectivity monitoring
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ mtrLines.ts                 # MTR line configurations and station data
â”œâ”€â”€ types/
â”‚   â””â”€â”€ train.ts                    # TypeScript interfaces for train data
â””â”€â”€ utils/
    â”œâ”€â”€ index.ts                    # Utility functions (distance, formatting)
    â””â”€â”€ tests/
        â””â”€â”€ searchRouteHelpers.ts   # Helper functions for route search
```

### Key Dependencies and Data Flow

#### Data Fetching (`useMtrData.ts`)
- **Used by**: `MtrTrain.vue`, `LightRail.vue`
- **Purpose**: Fetches real-time train arrival data from DATA.GOV.HK APIs
- **Features**: 10-second caching, retry logic, error handling
- **APIs**: 
  - MTR: `https://rt.data.gov.hk/v1/transport/mtr/getSchedule.php`
  - LRT: `https://rt.data.gov.hk/v1/transport/mtr/lrt/getSchedule`

#### Theme Management (`useTheme.ts`)
- **Used by**: `App.vue` (global), all components inherit
- **Purpose**: Manages dark/light mode, font sizes, color schemes
- **Features**: System preference detection, localStorage persistence
- **CSS Variables**: Dynamically sets CSS custom properties for theming

#### Favorite Stations (`useFavoriteStations.ts`)
- **Used by**: Station selection components, route displays
- **Purpose**: Manages user's bookmarked stations
- **Storage**: localStorage with JSON serialization

#### Network Status (`useNetworkStatus.ts`)
- **Used by**: Data fetching components for connection monitoring
- **Purpose**: Monitors online/offline status and connection quality
- **Features**: Connection type detection (2G, 3G, 4G, etc.)

#### Station Configuration (`mtrLines.ts`)
- **Used by**: All MTR-related components
- **Purpose**: Central configuration for all MTR lines and stations
- **Data**: Line colors, station names (Chinese/English), terminus information

#### Type Definitions (`train.ts`)
- **Used by**: All components handling train data
- **Purpose**: TypeScript interfaces for type safety
- **Interfaces**: `TrainArrival`, `StationData`, `LineConfig`, etc.

## Development Notes

- **Clean Architecture**: Removed all legacy React components and unnecessary files
- **Mobile-First Design**: Container max-width of 480px, centered layout like HKBUS.APP
- **Simplified Settings**: Converted complex React settings to simple button-based interface
- **TypeScript Support**: Full type safety with proper interfaces and type definitions

## Installation

1. Clone the repository:
```bash
git clone https://github.com/HugoLi0213/HKMTRVUE.git
cd HKMTRVUE
```

2. Install dependencies:
```bash
npm install
```

3. Start development server:
```bash
npm run dev
```

4. Build for production:
```bash
npm run build
```

## API Data Source

This app uses real-time data from:
- **DATA.GOV.HK** - Hong Kong Government's open data platform
- MTR real-time arrival API endpoints

## Mobile UI Design

The app features a mobile-centered design similar to HKBUS.APP:
- Maximum container width of 480px
- Centered layout on larger screens
- Touch-friendly button sizes
- Smooth animations and transitions
- Card-based design with subtle shadows

## Settings Features

- **ğŸ”„ App Updates**: Force refresh service worker
- **ğŸ› ï¸ Database Updates**: Renew route database  
- **ğŸŒ™ Dark Mode**: Switch between light/dark themes
- **ğŸ“³ Vibration**: Enable/disable haptic feedback
- **ğŸ“‹ Bookmark Management**: Save and organize favorite stations
- **ğŸ¨ Traditional Timetable View**: Classic scheduled timetable design for easy reading

## Contributing

1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

## Author

**Hugo**  
ğŸ“§ Email: s12332146@gmail.com  
ğŸ™ GitHub: [HugoLi0213](https://github.com/HugoLi0213)

## ğŸ“š Documentation & Scripts

### ğŸ“– Documentation
For detailed documentation, please visit the [docs](./docs) folder:

**Quick Links:**
- ğŸ“± [Android APK Build Guide](./docs/ANDROID_APK_BUILD_GUIDE.md) - Build Android APK
- ğŸ“² [APK Installation Guide](./docs/APK_INSTALLATION_GUIDE.md) - Install on devices
- ğŸ§  [Peak Hour Quickstart](./docs/PEAK_HOUR_QUICKSTART.md) - Get started with AI predictions
- âœ¨ [Features Summary](./docs/FEATURES_QUICK_SUMMARY.md) - All features overview
- ğŸ§ª [Test Report](./docs/STATION_DISPLAY_TEST_REPORT.md) - 74+ tests, 100% pass rate

**[ğŸ“– View Complete Documentation Index â†’](./docs/README.md)**

### ğŸ› ï¸ Build & Automation Scripts
All build and deployment scripts are in the [scripts](./scripts) folder:

**Quick Commands:**
```bash
# Build Android APK
cd scripts
build-apk.cmd

# Check build status
check-apk-status.cmd

# Run tests
run-all-tests.cmd

# Deploy to production
deploy.cmd
```

**[ğŸ› ï¸ View All Scripts â†’](./scripts/README.md)**

### ğŸ“ Project Structure
For complete project organization, see [PROJECT_STRUCTURE.md](./PROJECT_STRUCTURE.md)

## License

This project is open source and available under the Apache License
                           Version 2.0

## Acknowledgments

- Hong Kong MTR Corporation for providing public transportation,also data display like:https://www.mtr.com.hk/ch/customer/services/timetable_detail_weekday.html for UI 's reference
- DATA.GOV.HK for open data APIs
- HKBUS.APP for design inspiration
- https://github.com/sammyfung/mtrtrain for code & design 's reference,API reference,data reuse.
